import{r as n,a5 as q,u,j as o,g as d,a6 as ke,a7 as Be,a8 as Ae,a9 as j,aa as De,ab as _,ac as Fe,ad as Oe,ae as G,af as be,ag as Ie,ah as Ue,ai as He}from"./index-33c4326b.js";function Le(e){const a=n.useRef(e);return a.current=e,a}function We(e){const a=Le(e);n.useEffect(()=>()=>a.current(),[])}var p;function K(e){if((!p&&p!==0||e)&&q){var a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a),p=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return p}function ze(){return n.useState(null)}const J=n.forwardRef(({className:e,bsPrefix:a,as:s="div",...r},l)=>(a=u(a,"modal-body"),o(s,{ref:l,className:d(e,a),...r})));J.displayName="ModalBody";const je=J,Q=n.forwardRef(({bsPrefix:e,className:a,contentClassName:s,centered:r,size:l,fullscreen:c,children:R,scrollable:w,...N},S)=>{e=u(e,"modal");const f=`${e}-dialog`,T=typeof c=="string"?`${e}-fullscreen-${c}`:`${e}-fullscreen`;return o("div",{...N,ref:S,className:d(f,a,l&&`${e}-${l}`,r&&`${f}-centered`,w&&`${f}-scrollable`,c&&T),children:o("div",{className:d(`${e}-content`,s),children:R})})});Q.displayName="ModalDialog";const V=Q,X=n.forwardRef(({className:e,bsPrefix:a,as:s="div",...r},l)=>(a=u(a,"modal-footer"),o(s,{ref:l,className:d(e,a),...r})));X.displayName="ModalFooter";const _e=X,Y=n.forwardRef(({bsPrefix:e,className:a,closeLabel:s="Close",closeButton:r=!1,...l},c)=>(e=u(e,"modal-header"),o(ke,{ref:c,...l,className:d(a,e),closeLabel:s,closeButton:r})));Y.displayName="ModalHeader";const Ke=Y,qe=Be("h4"),Z=n.forwardRef(({className:e,bsPrefix:a,as:s=qe,...r},l)=>(a=u(a,"modal-title"),o(s,{ref:l,className:d(e,a),...r})));Z.displayName="ModalTitle";const Ge=Z;function Je(e){return o(G,{...e,timeout:null})}function Qe(e){return o(G,{...e,timeout:null})}const x=n.forwardRef(({bsPrefix:e,className:a,style:s,dialogClassName:r,contentClassName:l,children:c,dialogAs:R=V,"data-bs-theme":w,"aria-labelledby":N,"aria-describedby":S,"aria-label":f,show:T=!1,animation:m=!0,backdrop:M=!0,keyboard:P=!0,onEscapeKeyDown:E,onShow:ee,onHide:y,container:ae,autoFocus:te=!0,enforceFocus:ne=!0,restoreFocus:oe=!0,restoreFocusOptions:le,onEntered:se,onExit:k,onExiting:re,onEnter:B,onEntering:A,onExited:D,backdropClassName:F,manager:O,...de},ce)=>{const[ie,ue]=n.useState({}),[fe,b]=n.useState(!1),$=n.useRef(!1),C=n.useRef(!1),g=n.useRef(null),[h,me]=ze(),ge=Ae(ce,me),I=j(y),he=De();e=u(e,"modal");const Me=n.useMemo(()=>({onHide:I}),[I]);function U(){return O||be({isRTL:he})}function H(t){if(!q)return;const i=U().getScrollbarWidth()>0,z=t.scrollHeight>Ue(t).documentElement.clientHeight;ue({paddingRight:i&&!z?K():void 0,paddingLeft:!i&&z?K():void 0})}const v=j(()=>{h&&H(h.dialog)});We(()=>{_(window,"resize",v),g.current==null||g.current()});const ye=()=>{$.current=!0},pe=t=>{$.current&&h&&t.target===h.dialog&&(C.current=!0),$.current=!1},L=()=>{b(!0),g.current=He(h.dialog,()=>{b(!1)})},Re=t=>{t.target===t.currentTarget&&L()},we=t=>{if(M==="static"){Re(t);return}if(C.current||t.target!==t.currentTarget){C.current=!1;return}y==null||y()},Ne=t=>{P?E==null||E(t):(t.preventDefault(),M==="static"&&L())},Se=(t,i)=>{t&&H(t),B==null||B(t,i)},Te=t=>{g.current==null||g.current(),k==null||k(t)},$e=(t,i)=>{A==null||A(t,i),Ie(window,"resize",v)},Ce=t=>{t&&(t.style.display=""),D==null||D(t),_(window,"resize",v)},ve=n.useCallback(t=>o("div",{...t,className:d(`${e}-backdrop`,F,!m&&"show")}),[m,F,e]),W={...s,...ie};W.display="block";const Ee=t=>o("div",{role:"dialog",...t,style:W,className:d(a,e,fe&&`${e}-static`,!m&&"show"),onClick:M?we:void 0,onMouseUp:pe,"data-bs-theme":w,"aria-label":f,"aria-labelledby":N,"aria-describedby":S,children:o(R,{...de,onMouseDown:ye,className:r,contentClassName:l,children:c})});return o(Fe.Provider,{value:Me,children:o(Oe,{show:T,ref:ge,backdrop:M,container:ae,keyboard:!0,autoFocus:te,enforceFocus:ne,restoreFocus:oe,restoreFocusOptions:le,onEscapeKeyDown:Ne,onShow:ee,onHide:y,onEnter:Se,onEntering:$e,onEntered:se,onExit:Te,onExiting:re,onExited:Ce,manager:U(),transition:m?Je:void 0,backdropTransition:m?Qe:void 0,renderBackdrop:ve,renderDialog:Ee})})});x.displayName="Modal";const Xe=Object.assign(x,{Body:je,Header:Ke,Title:Ge,Footer:_e,Dialog:V,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Xe as M};
