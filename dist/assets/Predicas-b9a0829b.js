import{r,a as s,C as k,j as e,R as x,c as y,S as w,F as c,s as A,d as D,B as P,t as I,q as L}from"./index-33c4326b.js";import{A as R}from"./Alert-bdb5bcdb.js";import{C as l}from"./Card-ce2b2b94.js";import{M as o}from"./Modal-25cb2c97.js";const O=()=>{const[i,S]=r.useState([]),[C,d]=r.useState(!1),[M,m]=r.useState(""),[h,F]=r.useState(1),[j,U]=r.useState(0),[u,p]=r.useState(!0),[f,g]=r.useState(!1),v=(a=1)=>{a===1?p(!0):g(!0),fetch(`http://localhost:3001/api/content/sermons?page=${a}&limit=6`).then(t=>t.json()).then(t=>{S(n=>a===1?t.data:[...n,...t.data]),U(t.total),F(a)}).catch(t=>console.error("Error fetching sermons:",t)).finally(()=>{p(!1),g(!1)})};r.useEffect(()=>{v(1)},[]);const b=a=>{const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=a.match(t);return n&&n[2].length===11?n[2]:null},E=a=>{const t=b(a);return t?`https://www.youtube.com/embed/${t}`:a},B=a=>{const t=b(a);return t?`https://img.youtube.com/vi/${t}/hqdefault.jpg`:""},N=a=>{m(E(a)),d(!0)},T=()=>{d(!1),m("")},V=()=>{v(h+1)};return s(k,{className:"my-5",children:[e("title",{children:"Prédicas - Vino Nuevo en Odres Nuevo"}),e(x,{className:"mb-5",children:e(y,{children:s("div",{className:"predicas-hero-section",children:[e("h1",{className:"fw-bold fs-3 fs-sm-2 fs-md-1",children:"Nuestras Prédicas"}),e("p",{className:"px-4 fs-6 fs-sm-5",children:"Aliméntate de la palabra de Dios."}),e("div",{className:"mt-4",children:e("a",{href:"#lista-predicas",className:"btn btn-light btn-sm",children:"¡Escucha la Palabra!"})}),e("p",{className:"mt-3 fs-6 fs-sm-5 text-shadow-sm",children:'"La fe viene por el oír, y el oír, por la palabra de Dios."'})]})})}),u&&h===1&&s("div",{className:"text-center my-4",children:[e(w,{animation:"border",variant:"primary"}),e("p",{className:"mt-2",children:"Cargando prédicas..."})]}),i.length===0&&!u&&e(R,{variant:"info",className:"text-center",children:"No se encontraron prédicas."}),i.length>0&&s(c,{children:[e(x,{id:"lista-predicas",xs:1,md:2,lg:3,className:"g-4",children:i&&i.map(a=>e(y,{children:s(l,{className:"h-100 shadow card-book",children:[e(l.Img,{variant:"top",src:B(a.videoUrl),alt:a.title,loading:"lazy",style:{height:"200px",objectFit:"cover",cursor:"pointer"},onClick:()=>N(a.videoUrl)}),s(l.Body,{children:[e(l.Title,{children:a.title}),s("div",{className:"mb-2 text-muted",children:[s("div",{children:[e(A,{className:"me-2"}),a.preacher]}),s("div",{children:[e(D,{className:"me-2"}),a.date]})]}),e(l.Text,{children:a.description})]}),e(l.Footer,{children:s(P,{onClick:()=>N(a.videoUrl),variant:"primary",className:"w-100 rounded-pill btn-sm",children:[e(I,{className:"me-2"}),"Ver Prédica"]})})]})},a.id))}),e("p",{className:"text-center mt-5 lead text-muted",children:'"Sumérgete en la sabiduría divina y fortalece tu espíritu con cada mensaje."'}),i.length<j&&e("div",{className:"text-center mt-4",children:e(P,{onClick:V,variant:"outline-primary",className:"rounded-pill px-4 btn-sm",disabled:f,children:f?s(c,{children:[e(w,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Cargando..."]}):s(c,{children:[e(L,{className:"me-2"}),"Cargar Más Prédicas"]})})})]}),s(o,{show:C,onHide:T,size:"lg",centered:!0,children:[e(o.Header,{closeButton:!0,children:e(o.Title,{children:"Reproduciendo Prédica"})}),e(o.Body,{children:e("div",{className:"ratio ratio-16x9",children:e("iframe",{src:M,title:"Reproductor de video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]})]})};export{O as default};
