import{r,a,j as e,B as S,C as w,S as T,R as F,c as $,s as D,M as B,N as G,F as j,q}from"./index-33c4326b.js";import{M as C}from"./Modal-25cb2c97.js";import{A as k}from"./Alert-bdb5bcdb.js";import{F as t}from"./Form-6f9cfe9b.js";import{u as W}from"./usePageTitle-560252fa.js";import{C as m}from"./Card-ce2b2b94.js";const H=({show:o,onHide:u,course:i})=>{const[c,h]=r.useState(""),[p,v]=r.useState(""),[d,N]=r.useState(""),[f,g]=r.useState(""),[b,x]=r.useState("");r.useEffect(()=>{o||(h(""),v(""),N(""),g(""),x(""))},[o]);const M=()=>{if(!c||!p||!d){x("Por favor, completa todos los campos obligatorios (Nombre, Email, Teléfono).");return}const n="+1234567890",y=`¡Hola! Me gustaría inscribirme en el curso "${i.title}".

Mis datos son:
Nombre: ${c}
Email: ${p}
Teléfono: ${d}
Mensaje adicional: ${f||"Ninguno"}`,E=`https://wa.me/${n}?text=${encodeURIComponent(y)}`;window.open(E,"_blank"),u(),alert("Se ha abierto una conversación de WhatsApp con los datos de tu inscripción. Por favor, envía el mensaje para confirmar.")};return a(C,{show:o,onHide:u,children:[e(C.Header,{closeButton:!0,children:a(C.Title,{children:["Inscripción al Curso: ",i==null?void 0:i.title]})}),a(C.Body,{children:[b&&e(k,{variant:"danger",children:b}),a(t,{children:[a(t.Group,{className:"mb-3",children:[a(t.Label,{children:["Nombre Completo ",e("span",{className:"text-danger",children:"*"})]}),e(t.Control,{type:"text",value:c,onChange:n=>h(n.target.value),required:!0})]}),a(t.Group,{className:"mb-3",children:[a(t.Label,{children:["Correo Electrónico ",e("span",{className:"text-danger",children:"*"})]}),e(t.Control,{type:"email",value:p,onChange:n=>v(n.target.value),required:!0})]}),a(t.Group,{className:"mb-3",children:[a(t.Label,{children:["Número de Teléfono (WhatsApp) ",e("span",{className:"text-danger",children:"*"})]}),e(t.Control,{type:"tel",value:d,onChange:n=>N(n.target.value),required:!0}),e(t.Text,{className:"text-muted",children:"Nos contactaremos contigo a este número."})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Mensaje Adicional"}),e(t.Control,{as:"textarea",rows:3,value:f,onChange:n=>g(n.target.value)})]})]})]}),a(C.Footer,{children:[e(S,{variant:"secondary",onClick:u,children:"Cancelar"}),e(S,{variant:"primary",onClick:M,children:"Inscribirse (vía WhatsApp)"})]})]})},_=()=>{W("Cursos y Talleres - Vino Nuevo en Odres Nuevo");const[o,u]=r.useState([]),[i,c]=r.useState(!0),[h,p]=r.useState(null),[v,d]=r.useState(!1),[N,f]=r.useState(null),[g,b]=r.useState(1),[x,M]=r.useState(0),[n,y]=r.useState(!1),E=(s=1)=>{s===1?c(!0):y(!0),fetch(`http://localhost:3001/api/content/courses?page=${s}&limit=6`).then(l=>{if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return l.json()}).then(l=>{u(A=>s===1?l.data||[]:[...A,...l.data||[]]),M(l.total||0),b(s)}).catch(l=>{p(l.message)}).finally(()=>{c(!1),y(!1)})};r.useEffect(()=>{E(1)},[]);const P=s=>{f(s),d(!0)},I=()=>{d(!1),f(null)},L=()=>{E(g+1)};return i&&g===1?a(w,{className:"my-5 text-center",children:[e(T,{animation:"border",variant:"primary"}),e("p",{className:"mt-2",children:"Cargando cursos..."})]}):h?e(w,{className:"my-5 text-center",children:a(k,{variant:"danger",children:["Error al cargar los cursos: ",h]})}):a(w,{className:"my-5",children:[e("title",{children:"Cursos y Talleres - Vino Nuevo en Odres Nuevo"}),e(F,{className:"mb-5",children:e($,{children:a("div",{className:"cursos-hero-section",children:[e("h1",{className:"fw-bold fs-3 fs-sm-2 fs-md-1",children:"Nuestros Cursos y Talleres"}),e("p",{className:"px-4 fs-6 fs-sm-5",children:"Invierte en tu crecimiento espiritual y personal."}),e("div",{className:"mt-4",children:e("a",{href:"#lista-cursos",className:"btn btn-light btn-sm",children:"¡Explora Nuestros Programas!"})}),e("p",{className:"mt-3 fs-6 fs-sm-5 text-shadow-sm",children:'"Capacítate para servir y crecer en el conocimiento de Dios."'})]})})}),e("p",{className:"lead text-center mb-5",children:"Invierte en tu crecimiento espiritual y personal con nuestra variedad de cursos y talleres diseñados para toda la familia."}),e("p",{className:"text-center fs-5 text-muted mb-5",children:'"Desarrolla tus dones y talentos para la gloria de Dios. ¡Hay un lugar para ti!"'}),e(F,{id:"lista-cursos",xs:1,md:2,lg:3,className:"g-4",children:o&&o.map(s=>e($,{children:a(m,{className:"h-100 shadow card-book",children:[e(m.Img,{variant:"top",src:s.image,alt:s.title,loading:"lazy"}),a(m.Body,{children:[e(m.Title,{children:s.title}),a("div",{className:"mb-2 text-muted",children:[a("div",{children:[e(D,{className:"me-2"}),s.instructor]}),a("div",{children:[e(B,{className:"me-2"}),s.schedule]})]}),e(m.Text,{children:s.description})]}),e(m.Footer,{children:a(S,{variant:"primary",className:"w-100 rounded-pill btn-sm",onClick:()=>P(s),children:[e(G,{className:"me-2"}),"Inscribirse"]})})]})},s.id))}),e("p",{className:"text-center mt-5 lead text-muted",children:'"Nunca dejes de aprender y crecer. ¡El conocimiento de Dios te transformará!"'}),o.length<x&&e("div",{className:"text-center mt-4",children:a(S,{onClick:L,variant:"outline-primary",className:"rounded-pill px-4 btn-sm",disabled:n,children:["            ",n?a(j,{children:[e(T,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Cargando..."]}):a(j,{children:[e(q,{className:"me-2"}),"Cargar Más Cursos"]})]})}),N&&e(H,{show:v,onHide:I,course:N})]})};export{_ as default};
